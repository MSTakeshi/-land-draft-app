(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[483],{9932:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/results/[round]",function(){return s(6026)}])},6026:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var a=s(5893),n=s(1163),r=s(7294);function l(){let e=(0,n.useRouter)(),{round:t}=e.query,[s,l]=(0,r.useState)([]),[c,i]=(0,r.useState)(!0),[x,d]=(0,r.useState)(null);return((0,r.useEffect)(()=>{t&&(async()=>{try{let e=await fetch("http://localhost:8000/draft/".concat(t));if(!e.ok)throw Error("エラー: ".concat(e.statusText));let s=await e.json();l(s)}catch(e){d(e.message)}finally{i(!1)}})()},[t]),c)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center text-xl",children:"結果を読み込み中..."}):x?(0,a.jsxs)("div",{className:"min-h-screen flex items-center justify-center text-red-500 text-xl",children:["エラー: ",x]}):(0,a.jsx)("div",{className:"min-h-screen p-8 flex flex-col items-center",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto bg-white p-6 rounded-lg shadow-md w-full",children:[(0,a.jsxs)("h1",{className:"text-3xl font-extrabold mb-8 text-center text-gray-900",children:["ラウンド",t," 結果"]}),0===s.length?(0,a.jsx)("p",{className:"text-center text-gray-600 text-lg",children:"このラウンドの結果はまだありません。"}):(0,a.jsx)("div",{className:"overflow-x-auto bg-white rounded-lg shadow-lg p-4",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"py-3 px-6 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"投票者名"}),(0,a.jsx)("th",{className:"py-3 px-6 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"第1希望候補地"}),"1"!==t&&(0,a.jsx)("th",{className:"py-3 px-6 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"第2希望候補地"}),"1"!==t&&"2"!==t&&(0,a.jsx)("th",{className:"py-3 px-6 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"第3希望候補地"}),(0,a.jsx)("th",{className:"py-3 px-6 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"割り当てられた土地"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((e,s)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 transition duration-150 ease-in-out",children:[(0,a.jsx)("td",{className:"py-3 px-6 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,a.jsx)("td",{className:"py-3 px-6 whitespace-nowrap text-sm text-gray-700",children:e.choice1}),"1"!==t&&(0,a.jsx)("td",{className:"py-3 px-6 whitespace-nowrap text-sm text-gray-700",children:e.choice2}),"1"!==t&&"2"!==t&&(0,a.jsx)("td",{className:"py-3 px-6 whitespace-nowrap text-sm text-gray-700",children:e.choice3}),(0,a.jsx)("td",{className:"py-3 px-6 whitespace-nowrap text-sm font-semibold ${voter.assigned_land !== null ? 'text-green-600' : 'text-red-500'}",children:null!==e.assigned_land?e.assigned_land:"未割り当て"})]},s))})]})}),(0,a.jsxs)("div",{className:"mt-10 flex justify-center space-x-6",children:[t&&4>parseInt(t)&&(0,a.jsxs)("button",{onClick:()=>e.push("/results/".concat(parseInt(t)+1)),className:"py-3 px-8 bg-indigo-600 text-white font-bold rounded-full shadow-lg hover:bg-indigo-700 transform hover:scale-105 transition duration-300 ease-in-out",children:["ラウンド",parseInt(t)+1,"へ進む"]}),t&&parseInt(t)>1&&(0,a.jsxs)("button",{onClick:()=>e.push("/results/".concat(parseInt(t)-1)),className:"py-3 px-8 bg-gray-300 text-gray-800 font-bold rounded-full shadow-lg hover:bg-gray-400 transform hover:scale-105 transition duration-300 ease-in-out",children:["ラウンド",parseInt(t)-1,"に戻る"]})]})]})})}},1163:function(e,t,s){e.exports=s(7253)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=9932)}),_N_E=e.O()}]);